[gd_scene load_steps=11 format=2]

[ext_resource path="res://CameraPlaneIntersection/blox.tscn" type="PackedScene" id=1]
[ext_resource path="res://CameraPlaneIntersection/RayCastReporter.gd" type="Script" id=2]
[ext_resource path="res://CameraPlaneIntersection/RayArrow.gd" type="Script" id=3]
[ext_resource path="res://CameraPlaneIntersection/env.tres" type="Environment" id=4]

[sub_resource type="SpatialMaterial" id=1]
albedo_color = Color( 0.0784314, 0.87451, 0.223529, 1 )
metallic = 1.0
roughness = 0.5

[sub_resource type="SpatialMaterial" id=2]
albedo_color = Color( 0.937255, 0.0901961, 0.0901961, 1 )
metallic = 1.0
roughness = 0.5

[sub_resource type="SpatialMaterial" id=3]
albedo_color = Color( 0.215686, 0.486275, 1, 1 )
metallic = 1.0
roughness = 0.5

[sub_resource type="CylinderMesh" id=4]
top_radius = 0.2
bottom_radius = 0.2

[sub_resource type="CylinderMesh" id=5]
top_radius = 0.4
bottom_radius = 0.001
height = 1.5

[sub_resource type="Animation" id=6]
resource_name = "ArrowMove"
length = 4.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( -1.28555, 1.99271, 3.09327 ), Vector3( -1.28555, 1.99271, -1.98645 ) ]
}

[node name="main" type="Spatial"]

[node name="Green" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.16904, 0.253721, 0.317216 )
collision_layer = 1
collision_mask = 2

[node name="MeshInstance" parent="Green" index="1"]
material/0 = SubResource( 1 )

[node name="Red" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.619868, 1.12195, -1.09549 )
collision_layer = 2
collision_mask = 4

[node name="MeshInstance" parent="Red" index="1"]
material/0 = SubResource( 2 )

[node name="Blue" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.343045, -0.561588, -0.110733 )
collision_layer = 4
collision_mask = 1

[node name="MeshInstance" parent="Blue" index="1"]
material/0 = SubResource( 3 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 0.743156, -0.320845, 0.587177, 0, 0.87754, 0.479504, -0.669118, -0.356346, 0.652149, 3.07568, 3.26191, 3.5676 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="Camera"]
environment = ExtResource( 4 )

[node name="RayArrow" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.28555, 1.99271, 3.09327 )
mesh = SubResource( 4 )
material/0 = null
script = ExtResource( 3 )

[node name="JustTheTip" type="MeshInstance" parent="RayArrow"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.72182, 0 )
mesh = SubResource( 5 )
material/0 = null

[node name="AnimationPlayer" type="AnimationPlayer" parent="RayArrow"]
autoplay = "ArrowMove"
anims/ArrowMove = SubResource( 6 )

[node name="RayCastReporter" type="RayCast" parent="RayArrow"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.98222, 0 )
enabled = true
cast_to = Vector3( 0, -3.449, 0 )
collide_with_areas = true
script = ExtResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.721398, 0.411451, -0.55704, 0, 0.804365, 0.594135, 0.692521, -0.428608, 0.580267, -1.06942, 4.03782, 1.7917 )
light_energy = 8.33
light_specular = 0.61
shadow_enabled = true

[connection signal="area_entered" from="Green" to="Green" method="_on_Area_entered"]
[connection signal="area_entered" from="Red" to="Green" method="_on_Area_entered"]
[connection signal="area_entered" from="Blue" to="Green" method="_on_Area_entered"]
[connection signal="raycast_collide" from="RayArrow/RayCastReporter" to="RayArrow" method="_on_RayCastReporter_raycast_collide"]

[editable path="Green"]
[editable path="Red"]
[editable path="Blue"]
